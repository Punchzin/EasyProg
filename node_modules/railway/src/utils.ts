export const searchStringToObject = (
  str: string,
): { [key: string]: string } => {
  const pairs = str.replace(/^\/?\??/, "").split("&");
  const obj: { [key: string]: string } = {};

  for (const i in pairs) {
    if (pairs[i] === "") {
      continue;
    }

    const pair = pairs[i].split("=");
    obj[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
  }

  return obj;
};

export const delay = (n: number) => new Promise(r => setTimeout(r, n));
